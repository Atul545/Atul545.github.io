(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{6821:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(45476)}])},4069:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(11057),i=n(90948);let o=(0,i.ZP)(r.Z,{target:"e1at1r4r0"})("margin-bottom:0.5rem;font-size:1.1rem;")},49334:function(e,t,n){"use strict";n.d(t,{Hc:function(){return o},gU:function(){return a}});var r=n(90948);let i=(0,r.ZP)("div",{target:"e6r9y6e0"})("width:85%;max-width:1600px;margin:0 auto;margin-top:2rem;padding:0.5em;"),o=(0,r.ZP)("div",{target:"e6r9y6e1"})("width:85%;max-width:800px;margin:0 auto;padding-top:1rem;"),a=(0,r.ZP)("div",{target:"e6r9y6e2"})("width:90%;margin:0 auto;padding:0.5em;");t.ZP=i},36806:function(e,t,n){"use strict";var r=n(35944),i=n(67294),o=n(94054),a=n(56815),l=n(79332),u=n(47312),d=n(23795),s=n(90948),c=n(4069),m=n(99959),h=n(23404),f=n(60708),g=n(96739);let p=(0,s.ZP)("form",{target:"ejw0ijv0"})("padding:1em;");t.Z=function(){let{logInOrOut:e}=(0,m.Rj)(),t=(0,h.I)(g.Z),[n,s]=(0,i.useState)(""),[Z,v]=(0,i.useState)(""),[w,y]=(0,i.useState)(!1),_=(0,i.useRef)(null),P=(0,i.useRef)(null),x=null;return(0,i.useEffect)(()=>{let e=()=>{var e,t;""==n&&(null==P?void 0:null===(e=P.current)||void 0===e?void 0:e.value)&&s(P.current.value),""==Z&&(null==_?void 0:null===(t=_.current)||void 0===t?void 0:t.value)&&v(_.current.value)},t=[setTimeout(e,10),setTimeout(e,1e3),setTimeout(e,5e3),x];return()=>t.forEach(e=>e&&clearTimeout(e))},[]),(0,r.BX)(p,{children:[(0,r.BX)(o.Z,{required:!0,fullWidth:!0,error:w,children:[(0,r.tZ)(u.Z,{htmlFor:"email",children:t("username")}),(0,r.tZ)(l.Z,{id:"email",name:"email",inputRef:_,autoComplete:"nope",onChange:e=>{v(e.target.value),y(!1)}})]}),(0,r.BX)(o.Z,{margin:"normal",required:!0,fullWidth:!0,error:w,children:[(0,r.tZ)(u.Z,{htmlFor:"password",children:t("password")}),(0,r.tZ)(l.Z,{name:"password",type:"password",id:"password",inputRef:P,autoComplete:"nope",onChange:e=>{s(e.target.value),y(!1)}}),(0,r.tZ)(a.Z,{error:w,children:w&&t("loginFailedError")})]}),(0,r.tZ)(c.Z,{type:"submit","data-testid":"login-button",variant:"contained",color:"secondary",fullWidth:!0,disabled:""===Z.trim()||""===n.trim(),onClick:async t=>{t.preventDefault();try{await (0,f.zB)({email:Z,password:n,shallow:!1});try{await e()}catch(e){console.error("Login in or out failed")}x&&clearTimeout(x)}catch(e){console.error("Login failed due to this error: ",e),y(!0),(0,f.jF)(void 0)&&console.error("Logging in was successful but it crashed"),x=setTimeout(()=>{y(!1),x&&clearTimeout(x)},5e3)}},children:t("login")}),(0,r.tZ)(d.Z,{href:"https://tmc.mooc.fi/password_reset_keys/new",target:"_blank",rel:"noopener noreferrer",children:t("forgottenpw")})]})}},18554:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(67294),i=n(17853);function o(e){let{setBreadcrumbs:t}=(0,i.Io)();(0,r.useEffect)(()=>{t(e)},[JSON.stringify(e)])}},89759:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(11163),i=n.n(r),o=n(62286),a=n.n(o);function l(e){var t,n;let{context:r,target:o,savePage:l=!0,shallow:u=!0}=e;l&&(null==r?void 0:r.pathname)&&a().set(r,"redirect-back",JSON.stringify({as:r.asPath,href:r.pathname}),{maxAge:1200,path:"/"}),(null==r?void 0:null===(t=r.res)||void 0===t?void 0:t.writeHead)&&(null==r?void 0:null===(n=r.res)||void 0===n?void 0:n.end)?(r.res.writeHead(307,{Location:o}),r.res.end()):i().push(o,o,{shallow:u})}},4650:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(35944),i=n(67294),o=n(60708),a=n(89759);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return t=>{var n;return(n=class extends i.Component{static async getInitialProps(n){var r;let i=(0,o.jF)(n);return i&&(0,a.Z)({context:n,target:e,shallow:!1}),{...await (null===(r=t.getInitialProps)||void 0===r?void 0:r.call(t,n)),signedIn:i}}render(){return this.props.signedIn?(0,r.tZ)("div",{children:"Redirecting..."}):(0,r.tZ)(t,{...this.props,children:this.props.children})}}).displayName="withSignedOut(".concat(t.name||t.displayName||"AnonymousComponent",")"),n}}},45476:function(e,t,n){"use strict";n.r(t);var r=n(35944),i=n(90629),o=n(90948),a=n(15861),l=n(49334),u=n(36806),d=n(18554),s=n(23404),c=n(4650),m=n(96739);let h=(0,o.ZP)(i.Z,{target:"evwzxfz0"})("display:flex;flex-direction:column;align-items:center;padding:1em;margin-top:2em;margin-bottom:2em;"),f=(0,o.ZP)(a.Z,{target:"evwzxfz1"})("margin:1em;"),g=()=>{let e=(0,s.I)(m.Z);return(0,d.h)([{translation:"signIn",href:"/sign-in"}]),(0,r.tZ)(r.HY,{children:(0,r.tZ)(l.ZP,{style:{width:"90%",maxWidth:900},children:(0,r.BX)(h,{children:[(0,r.tZ)(f,{component:"h1",variant:"h4",gutterBottom:!0,children:e("login")}),(0,r.tZ)(a.Z,{component:"p",paragraph:!0,children:e("loginDetails")}),(0,r.tZ)(u.Z,{})]})})})};t.default=(0,c.Z)()(g)}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=6821)}),_N_E=e.O()}]);